const util = require("util");
const { execSync, exec, spawn } = require("child_process");
const csvParsePromise = util.promisify(require("csv-parse"));
const execPrommised = util.promisify(require("child_process").exec);

// console.log(a)
const dockerPs = command =>
    new Promise((resolve, reject) =>
        exec("docker ps -a", async (err, stdout, stderr) => {
            console.log("out", stdout, err, "err", stderr);


            let b = await     csvParsePromise(stdout.toString("UTF-8").replace(/( {3,})/g, ","), {
                    columns: false,
                    relax_column_count: true,
                    skip_empty_lines: true,
                    delimiter: ",",
                    skip_lines_with_empty_values: true
                })

b.splice(1,)
resolve(b)

// resolve(b.split(2))

        })
    );
module.exports = {
    dockerPs
};
